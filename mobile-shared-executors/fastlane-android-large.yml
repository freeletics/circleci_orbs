parameters:
  tag:
    type: string
    default: "1.7"
  working_directory:
    type: string
    default: /home/circleci/home
  gradle_user_home:
    type: string
    default: /home/circleci/.gradle
resource_class: large
docker:
  - image: freeletics/android-sdk-fastlane:<< parameters.tag >>
working_directory: << parameters.working_directory >>
environment:
  TERM: dumb
  FASTLANE_SKIP_UPDATE_CHECK: true
  JAVA_TOOL_OPTIONS: "-XX:+UseContainerSupport -XX:MaxRAMPercentage=75.0 -XX:-PreferContainerQuotaForCPUCount"
  GRADLE_USER_HOME: << parameters.gradle_user_home >>
